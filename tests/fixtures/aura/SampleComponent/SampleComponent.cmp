<aura:component controller="SampleController" implements="flexipage:availableForAllPageTypes,force:hasRecordId">
    <aura:attribute name="recordId" type="String" access="public" description="The record ID"/>
    <aura:attribute name="accountName" type="String" default="" description="Account name to display"/>
    <aura:attribute name="contacts" type="List" default="[]" description="List of related contacts"/>
    <aura:attribute name="isLoading" type="Boolean" default="false"/>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:registerEvent name="accountSelected" type="c:AccountSelectedEvent"/>

    <lightning:card title="Account Details" iconName="standard:account">
        <aura:set attribute="actions">
            <lightning:button label="Refresh" onclick="{!c.handleRefresh}"/>
        </aura:set>

        <div class="slds-p-around_medium">
            <aura:if isTrue="{!v.isLoading}">
                <lightning:spinner alternativeText="Loading"/>
                <aura:set attribute="else">
                    <p>Account: {!v.accountName}</p>

                    <aura:iteration items="{!v.contacts}" var="contact">
                        <div class="contact-item" aura:id="contactItem">
                            <lightning:icon iconName="standard:contact" size="small"/>
                            <span>{!contact.Name}</span>
                        </div>
                    </aura:iteration>
                </aura:set>
            </aura:if>
        </div>

        <div slot="footer">
            <lightning:button label="Select Account" variant="brand" onclick="{!c.handleSelect}"/>
        </div>
    </lightning:card>
</aura:component>
